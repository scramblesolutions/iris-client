import{a as s,r as a}from"./focusout.c3723004.js";import{r,C as l,u as c}from"./ui.d5c1e1dd.js";import{_ as d}from"./index.927995fe.js";import"./index.463654f8.js";function u(t){const e=document.createElement("textarea");e.value=t,e.contentEditable="true",e.style.position="fixed";const o=()=>{};s(o),document.body.appendChild(e),e.focus(),e.select();const n=document.execCommand("copy");return e.remove(),a(o),n}function f(t){return navigator.clipboard!==void 0?navigator.clipboard.writeText(t):new Promise((e,o)=>{const n=u(t);n?e(!0):o(n)})}const i=r("SafeArea",{web:()=>d(()=>import("./web.4ed6836a.js"),["assets/web.4ed6836a.js","assets/ui.d5c1e1dd.js","assets/index.927995fe.js","assets/index.51e8191f.css","assets/index.463654f8.js"]).then(t=>new t.SafeAreaWeb)});window.LOCALE="en";window.windowMixin={data:function(){return{g:{offline:!navigator.onLine,visibleDrawer:!1,extensions:[],user:null,wallet:null,payments:[],allowedThemes:null}}},methods:{changeColor:function(t){document.body.setAttribute("data-theme",t),this.$q.localStorage.set("cashu.theme",t)},toggleDarkMode:function(){this.$q.dark.toggle(),this.$q.localStorage.set("cashu.darkMode",this.$q.dark.isActive)},copyText:function(t,e,o){let n=this.$q.notify;f(t).then(function(){n({message:e||"Copied to clipboard!",position:o||"bottom"})})},pasteFromClipboard:async function(){let t="";if(window?.Capacitor){const{value:e}=await l.read();t=e}else t=await navigator.clipboard.readText();return t},formatCurrency:function(t,e,o=!1){return e==null&&(e="sat"),c().hideBalance&&!o?"****":e=="sat"?this.formatSat(t):e=="msat"?this.fromMsat(t):(e=="usd"&&(t=t/100),e=="eur"&&(t=t/100),new Intl.NumberFormat(window.LOCALE,{style:"currency",currency:e}).format(t))},formatSat:function(t){return t=parseInt(t),new Intl.NumberFormat(window.LOCALE).format(t)+" sat"},fromMsat:function(t){return t=parseInt(t),new Intl.NumberFormat(window.LOCALE).format(t)+" msat"},notifyApiError:function(t){var e={400:"warning",401:"warning",500:"negative"};this.$q.notify({timeout:5e3,type:e[t.response.status]||"warning",message:t.message||t.response.data.message||t.response.data.detail||null,caption:[t.response.status," ",t.response.statusText].join("").toUpperCase()||null,icon:null})},notifySuccess:async function(t,e="top"){this.$q.notify({timeout:5e3,type:"positive",message:t,position:e,progress:!0,actions:[{icon:"close",color:"white",handler:()=>{}}]})},notifyRefreshed:async function(t,e="top"){this.$q.notify({timeout:500,type:"positive",message:t,position:e,actions:[{color:"white",handler:()=>{}}]})},notifyError:async function(t,e=null){this.$q.notify({color:"red",message:t,caption:e,position:"top",progress:!0,actions:[{icon:"close",color:"white",handler:()=>{}}]})},notifyWarning:async function(t,e=null,o=5e3){this.$q.notify({timeout:o,type:"warning",message:t,caption:e,position:"top",progress:!0,actions:[{icon:"close",color:"black",handler:()=>{}}]})},notify:async function(t,e="null",o="top",n=null,m=null){this.$q.notify({timeout:5e3,type:"nuill",color:"grey",message:t,caption:null,position:"top",actions:[{icon:"close",color:"white",handler:()=>{}}]})}},created:function(){this.$q.localStorage.getItem("cashu.darkMode")==!0||this.$q.localStorage.getItem("cashu.darkMode")==!1?this.$q.dark.set(this.$q.localStorage.getItem("cashu.darkMode")):this.$q.dark.set(!0),this.g.allowedThemes=window.allowedThemes??["classic"],addEventListener("offline",t=>{this.g.offline=!0}),addEventListener("online",t=>{this.g.offline=!1}),this.$q.localStorage.getItem("cashu.theme")?document.body.setAttribute("data-theme",this.$q.localStorage.getItem("cashu.theme")):this.changeColor("monochrome"),window.Capacitor&&Capacitor.getPlatform()==="ios"&&(i.getStatusBarHeight().then(({statusBarHeight:t})=>{document.documentElement.style.setProperty("--safe-area-inset-top",`${t}px`)}),i.removeAllListeners(),i.addListener("safeAreaChanged",t=>{const{insets:e}=t;for(const[o,n]of Object.entries(e))document.documentElement.style.setProperty(`--safe-area-inset-${o}`,`${n}px`)}))}};
