import{l as me,c as M,m as pe,p as fe,q as F,t as j,y as Z,A as H,z as X,r as ne,E as p,w as $,f as Y,k as f,Y as K,aX as ge,I as U,aY as he,B as oe,ai as Pe,aA as ye,o as ae,F as re,ah as G,H as we,aZ as _e,X as O,aa as xe,j as ie,K as se,L as z,M as le,O as ue,W as ce,Z as A,T as Q,Q as R,R as de,S as ve}from"./index.927995fe.js";import{u as Ce,a as Ae}from"./use-dark.3625dc1e.js";import{g as J,s as ee}from"./touch.9135741d.js";import{c as be}from"./selection.0264e392.js";import{b as Se}from"./use-timeout.afd034c5.js";function qe(e){const n=[.06,6,50];return typeof e=="string"&&e.length&&e.split(":").forEach((a,s)=>{const l=parseFloat(a);l&&(n[s]=l)}),n}var Ie=me({name:"touch-swipe",beforeMount(e,{value:n,arg:a,modifiers:s}){if(s.mouse!==!0&&M.has.touch!==!0)return;const l=s.mouseCapture===!0?"Capture":"",t={handler:n,sensitivity:qe(a),direction:J(s),noop:pe,mouseStart(r){ee(r,t)&&fe(r)&&(F(t,"temp",[[document,"mousemove","move",`notPassive${l}`],[document,"mouseup","end","notPassiveCapture"]]),t.start(r,!0))},touchStart(r){if(ee(r,t)){const i=r.target;F(t,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","notPassiveCapture"],[i,"touchend","end","notPassiveCapture"]]),t.start(r)}},start(r,i){M.is.firefox===!0&&j(e,!0);const d=Z(r);t.event={x:d.left,y:d.top,time:Date.now(),mouse:i===!0,dir:!1}},move(r){if(t.event===void 0)return;if(t.event.dir!==!1){H(r);return}const i=Date.now()-t.event.time;if(i===0)return;const d=Z(r),P=d.left-t.event.x,u=Math.abs(P),g=d.top-t.event.y,m=Math.abs(g);if(t.event.mouse!==!0){if(u<t.sensitivity[1]&&m<t.sensitivity[1]){t.end(r);return}}else if(window.getSelection().toString()!==""){t.end(r);return}else if(u<t.sensitivity[2]&&m<t.sensitivity[2])return;const w=u/i,_=m/i;t.direction.vertical===!0&&u<m&&u<100&&_>t.sensitivity[0]&&(t.event.dir=g<0?"up":"down"),t.direction.horizontal===!0&&u>m&&m<100&&w>t.sensitivity[0]&&(t.event.dir=P<0?"left":"right"),t.direction.up===!0&&u<m&&g<0&&u<100&&_>t.sensitivity[0]&&(t.event.dir="up"),t.direction.down===!0&&u<m&&g>0&&u<100&&_>t.sensitivity[0]&&(t.event.dir="down"),t.direction.left===!0&&u>m&&P<0&&m<100&&w>t.sensitivity[0]&&(t.event.dir="left"),t.direction.right===!0&&u>m&&P>0&&m<100&&w>t.sensitivity[0]&&(t.event.dir="right"),t.event.dir!==!1?(H(r),t.event.mouse===!0&&(document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),be(),t.styleCleanup=q=>{t.styleCleanup=void 0,document.body.classList.remove("non-selectable");const x=()=>{document.body.classList.remove("no-pointer-events--children")};q===!0?setTimeout(x,50):x()}),t.handler({evt:r,touch:t.event.mouse!==!0,mouse:t.event.mouse,direction:t.event.dir,duration:i,distance:{x:u,y:m}})):t.end(r)},end(r){t.event!==void 0&&(X(t,"temp"),M.is.firefox===!0&&j(e,!1),t.styleCleanup!==void 0&&t.styleCleanup(!0),r!==void 0&&t.event.dir!==!1&&H(r),t.event=void 0)}};if(e.__qtouchswipe=t,s.mouse===!0){const r=s.mouseCapture===!0||s.mousecapture===!0?"Capture":"";F(t,"main",[[e,"mousedown","mouseStart",`passive${r}`]])}M.has.touch===!0&&F(t,"main",[[e,"touchstart","touchStart",`passive${s.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,n){const a=e.__qtouchswipe;a!==void 0&&(n.oldValue!==n.value&&(typeof n.value!="function"&&a.end(),a.handler=n.value),a.direction=J(n.modifiers))},beforeUnmount(e){const n=e.__qtouchswipe;n!==void 0&&(X(n,"main"),X(n,"temp"),M.is.firefox===!0&&j(e,!1),n.styleCleanup!==void 0&&n.styleCleanup(),delete e.__qtouchswipe)}});function $e(){let e=Object.create(null);return{getCache:(n,a)=>e[n]===void 0?e[n]=typeof a=="function"?a():a:e[n],setCache(n,a){e[n]=a},hasCache(n){return Object.hasOwnProperty.call(e,n)},clearCache(n){n!==void 0?delete e[n]:e=Object.create(null)}}}const ke={name:{required:!0},disable:Boolean},te={setup(e,{slots:n}){return()=>f("div",{class:"q-panel scroll",role:"tabpanel"},U(n.default))}},Te={modelValue:{required:!0},animated:Boolean,infinite:Boolean,swipeable:Boolean,vertical:Boolean,transitionPrev:String,transitionNext:String,transitionDuration:{type:[String,Number],default:300},keepAlive:Boolean,keepAliveInclude:[String,Array,RegExp],keepAliveExclude:[String,Array,RegExp],keepAliveMax:Number},We=["update:modelValue","beforeTransition","transition"];function Be(){const{props:e,emit:n,proxy:a}=Y(),{getCache:s}=$e(),{registerTimeout:l}=Se();let t,r;const i=ne(null),d={value:null};function P(o){const c=e.vertical===!0?"up":"left";C((a.$q.lang.rtl===!0?-1:1)*(o.direction===c?1:-1))}const u=p(()=>[[Ie,P,void 0,{horizontal:e.vertical!==!0,vertical:e.vertical,mouse:!0}]]),g=p(()=>e.transitionPrev||`slide-${e.vertical===!0?"down":"right"}`),m=p(()=>e.transitionNext||`slide-${e.vertical===!0?"up":"left"}`),w=p(()=>`--q-transition-duration: ${e.transitionDuration}ms`),_=p(()=>typeof e.modelValue=="string"||typeof e.modelValue=="number"?e.modelValue:String(e.modelValue)),q=p(()=>({include:e.keepAliveInclude,exclude:e.keepAliveExclude,max:e.keepAliveMax})),x=p(()=>e.keepAliveInclude!==void 0||e.keepAliveExclude!==void 0);$(()=>e.modelValue,(o,c)=>{const y=b(o)===!0?W(o):-1;r!==!0&&I(y===-1?0:y<W(c)?-1:1),d.value!==y&&(d.value=y,n("beforeTransition",o,c),l(()=>{n("transition",o,c)},e.transitionDuration))});function k(){C(1)}function L(){C(-1)}function T(o){n("update:modelValue",o)}function b(o){return o!=null&&o!==""}function W(o){return t.findIndex(c=>c.props.name===o&&c.props.disable!==""&&c.props.disable!==!0)}function B(){return t.filter(o=>o.props.disable!==""&&o.props.disable!==!0)}function I(o){const c=o!==0&&e.animated===!0&&d.value!==-1?"q-transition--"+(o===-1?g.value:m.value):null;i.value!==c&&(i.value=c)}function C(o,c=d.value){let y=c+o;for(;y!==-1&&y<t.length;){const V=t[y];if(V!==void 0&&V.props.disable!==""&&V.props.disable!==!0){I(o),r=!0,n("update:modelValue",V.props.name),setTimeout(()=>{r=!1});return}y+=o}e.infinite===!0&&t.length!==0&&c!==-1&&c!==t.length&&C(o,o===-1?t.length:-1)}function D(){const o=W(e.modelValue);return d.value!==o&&(d.value=o),!0}function v(){const o=b(e.modelValue)===!0&&D()&&t[d.value];return e.keepAlive===!0?[f(he,q.value,[f(x.value===!0?s(_.value,()=>({...te,name:_.value})):te,{key:_.value,style:w.value},()=>o)])]:[f("div",{class:"q-panel scroll",style:w.value,key:_.value,role:"tabpanel"},[o])]}function S(){if(t.length!==0)return e.animated===!0?[f(K,{name:i.value},v)]:v()}function E(o){return t=ge(U(o.default,[])).filter(c=>c.props!==null&&c.props.slot===void 0&&b(c.props.name)===!0),t.length}function h(){return t}return Object.assign(a,{next:k,previous:L,goTo:T}),{panelIndex:d,panelDirectives:u,updatePanelsList:E,updatePanelIndex:D,getPanelContent:S,getEnabledPanels:B,getPanels:h,isValidPanelName:b,keepAliveProps:q,needsUniqueKeepAliveWrapper:x,goToPanelByOffset:C,goToPanel:T,nextPanel:k,previousPanel:L}}var Ge=oe({name:"QCarouselSlide",props:{...ke,imgSrc:String},setup(e,{slots:n}){const a=p(()=>e.imgSrc?{backgroundImage:`url("${e.imgSrc}")`}:{});return()=>f("div",{class:"q-carousel__slide",style:a.value},U(n.default))}});let N=0;const Ee={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Me=["update:fullscreen","fullscreen"];function Ne(){const e=Y(),{props:n,emit:a,proxy:s}=e;let l,t,r;const i=ne(!1);Pe(e)===!0&&$(()=>s.$route.fullPath,()=>{n.noRouteFullscreenExit!==!0&&u()}),$(()=>n.fullscreen,g=>{i.value!==g&&d()}),$(i,g=>{a("update:fullscreen",g),a("fullscreen",g)});function d(){i.value===!0?u():P()}function P(){i.value!==!0&&(i.value=!0,r=s.$el.parentNode,r.replaceChild(t,s.$el),document.body.appendChild(s.$el),N++,N===1&&document.body.classList.add("q-body--fullscreen-mixin"),l={handler:u},G.add(l))}function u(){i.value===!0&&(l!==void 0&&(G.remove(l),l=void 0),r.replaceChild(s.$el,t),i.value=!1,N=Math.max(0,N-1),N===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),s.$el.scrollIntoView!==void 0&&setTimeout(()=>{s.$el.scrollIntoView()})))}return ye(()=>{t=document.createElement("span")}),ae(()=>{n.fullscreen===!0&&P()}),re(u),Object.assign(s,{toggleFullscreen:d,setFullscreen:P,exitFullscreen:u}),{inFullscreen:i,toggleFullscreen:d}}const Oe=["top","right","bottom","left"],Le=["regular","flat","outline","push","unelevated"];var Je=oe({name:"QCarousel",props:{...Ce,...Te,...Ee,transitionPrev:{type:String,default:"fade"},transitionNext:{type:String,default:"fade"},height:String,padding:Boolean,controlColor:String,controlTextColor:String,controlType:{type:String,validator:e=>Le.includes(e),default:"flat"},autoplay:[Number,Boolean],arrows:Boolean,prevIcon:String,nextIcon:String,navigation:Boolean,navigationPosition:{type:String,validator:e=>Oe.includes(e)},navigationIcon:String,navigationActiveIcon:String,thumbnails:Boolean},emits:[...Me,...We],setup(e,{slots:n}){const{proxy:{$q:a}}=Y(),s=Ae(e,a);let l=null,t;const{updatePanelsList:r,getPanelContent:i,panelDirectives:d,goToPanel:P,previousPanel:u,nextPanel:g,getEnabledPanels:m,panelIndex:w}=Be(),{inFullscreen:_}=Ne(),q=p(()=>_.value!==!0&&e.height!==void 0?{height:e.height}:{}),x=p(()=>e.vertical===!0?"vertical":"horizontal"),k=p(()=>e.navigationPosition||(e.vertical===!0?"right":"bottom")),L=p(()=>`q-carousel q-panel-parent q-carousel--with${e.padding===!0?"":"out"}-padding`+(_.value===!0?" fullscreen":"")+(s.value===!0?" q-carousel--dark q-dark":"")+(e.arrows===!0?` q-carousel--arrows-${x.value}`:"")+(e.navigation===!0?` q-carousel--navigation-${k.value}`:"")),T=p(()=>{const v=[e.prevIcon||a.iconSet.carousel[e.vertical===!0?"up":"left"],e.nextIcon||a.iconSet.carousel[e.vertical===!0?"down":"right"]];return e.vertical===!1&&a.lang.rtl===!0?v.reverse():v}),b=p(()=>e.navigationIcon||a.iconSet.carousel.navigationIcon),W=p(()=>e.navigationActiveIcon||b.value),B=p(()=>({color:e.controlColor,textColor:e.controlTextColor,round:!0,[e.controlType]:!0,dense:!0}));$(()=>e.modelValue,()=>{e.autoplay&&I()}),$(()=>e.autoplay,v=>{v?I():l!==null&&(clearTimeout(l),l=null)});function I(){const v=_e(e.autoplay)===!0?Math.abs(e.autoplay):5e3;l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,v>=0?g():u()},v)}ae(()=>{e.autoplay&&I()}),re(()=>{l!==null&&clearTimeout(l)});function C(v,S){return f("div",{class:`q-carousel__control q-carousel__navigation no-wrap absolute flex q-carousel__navigation--${v} q-carousel__navigation--${k.value}`+(e.controlColor!==void 0?` text-${e.controlColor}`:"")},[f("div",{class:"q-carousel__navigation-inner flex flex-center no-wrap"},m().map(S))])}function D(){const v=[];if(e.navigation===!0){const S=n["navigation-icon"]!==void 0?n["navigation-icon"]:h=>f(O,{key:"nav"+h.name,class:`q-carousel__navigation-icon q-carousel__navigation-icon--${h.active===!0?"":"in"}active`,...h.btnProps,onClick:h.onClick}),E=t-1;v.push(C("buttons",(h,o)=>{const c=h.props.name,y=w.value===o;return S({index:o,maxIndex:E,name:c,active:y,btnProps:{icon:y===!0?W.value:b.value,size:"sm",...B.value},onClick:()=>{P(c)}})}))}else if(e.thumbnails===!0){const S=e.controlColor!==void 0?` text-${e.controlColor}`:"";v.push(C("thumbnails",E=>{const h=E.props;return f("img",{key:"tmb#"+h.name,class:`q-carousel__thumbnail q-carousel__thumbnail--${h.name===e.modelValue?"":"in"}active`+S,src:h.imgSrc||h["img-src"],onClick:()=>{P(h.name)}})}))}return e.arrows===!0&&w.value>=0&&((e.infinite===!0||w.value>0)&&v.push(f("div",{key:"prev",class:`q-carousel__control q-carousel__arrow q-carousel__prev-arrow q-carousel__prev-arrow--${x.value} absolute flex flex-center`},[f(O,{icon:T.value[0],...B.value,onClick:u})])),(e.infinite===!0||w.value<t-1)&&v.push(f("div",{key:"next",class:`q-carousel__control q-carousel__arrow q-carousel__next-arrow q-carousel__next-arrow--${x.value} absolute flex flex-center`},[f(O,{icon:T.value[1],...B.value,onClick:g})]))),xe(n.control,v)}return()=>(t=r(n),f("div",{class:L.value,style:q.value},[we("div",{class:"q-carousel__slides-container"},i(),"sl-cont",e.swipeable,()=>d.value)].concat(D())))}});const De=ie({name:"iOSPWAPrompt",mixins:[windowMixin],props:{},data:function(){return{showIosPWAPromptLocal:localStorage.getItem("cashu.ui.showIosPWAPrompt")!="seen",showIosPWAPrompt:!1}},mounted(){this.showIosPWAPromptLocal&&this.isiOsSafari()&&!this.isInStandaloneMode()&&(this.showIosPWAPrompt=!0)},watch:{},computed:{},methods:{closePrompt(){localStorage.setItem("cashu.ui.showIosPWAPrompt","seen"),this.showIosPWAPrompt=!1},isiOsSafari(){const e=window.navigator.userAgent.toLowerCase();return/iphone|ipod/.test(e)&&/safari/.test(e)},isInStandaloneMode(){return"standalone"in window.navigator&&window.navigator.standalone}}}),Ve={key:0,class:"pwa-prompt q-pa-md q-mx-auto text-center"},Fe={class:"pwa-prompt-content"};function ze(e,n,a,s,l,t){return z(),le(K,{"enter-active-class":"animated fadeInUp"},{default:ue(()=>[e.showIosPWAPrompt?(z(),ce("div",Ve,[A("div",Fe,[A("span",null,[n[0]||(n[0]=Q("Tap ")),R(de,{name:"ios_share",size:"sm"}),n[1]||(n[1]=Q(" and ")),n[2]||(n[2]=A("strong",null,"Add to Home Screen",-1))]),R(O,{flat:"",icon:"close",onClick:e.closePrompt,size:"sm",class:"close-btn q-px-sm"},null,8,["onClick"])]),n[3]||(n[3]=A("div",{class:"pwa-prompt-arrow"},null,-1))])):ve("",!0)]),_:1})}var et=se(De,[["render",ze],["__scopeId","data-v-371778e1"]]);const Qe=ie({name:"AndroidPWAPrompt",data(){return{showAndroidPWAPromptLocal:localStorage.getItem("cashu.ui.showAndroidPWAPrompt")!="seen",showAndroidPWAPrompt:!1}},mounted(){this.showAndroidPWAPromptLocal&&this.isChromeOnAndroid()&&!this.isInStandaloneMode()&&(this.showAndroidPWAPrompt=!0)},methods:{closePrompt(){localStorage.setItem("cashu.ui.showAndroidPWAPrompt","seen"),this.showAndroidPWAPrompt=!1},isChromeOnAndroid(){const e=navigator.userAgent.toLowerCase(),n=/android/.test(e),a=/chrome/.test(e)&&!/edge|edg|opr|opera/.test(e);return n&&a},isInStandaloneMode(){return window.matchMedia("(display-mode: standalone)").matches}}}),Re={key:0,class:"pwa-prompt android-pwa-prompt q-pa-md text-center"},je={class:"pwa-prompt-content"};function He(e,n,a,s,l,t){return z(),le(K,{appear:"","enter-active-class":"animated fadeInDown"},{default:ue(()=>[e.showAndroidPWAPrompt?(z(),ce("div",Re,[A("div",je,[A("span",null,[n[0]||(n[0]=Q(" Tap ")),R(de,{name:"more_vert",size:"sm"}),n[1]||(n[1]=Q(" and ")),n[2]||(n[2]=A("strong",null,"Add to Home screen",-1))]),R(O,{flat:"",icon:"close",onClick:e.closePrompt,size:"sm",class:"close-btn q-px-sm"},null,8,["onClick"])]),n[3]||(n[3]=A("div",{class:"pwa-prompt-arrow"},null,-1))])):ve("",!0)]),_:1})}var tt=se(Qe,[["render",He],["__scopeId","data-v-06af58bd"]]);export{tt as A,Je as Q,Te as a,We as b,Be as c,Ge as d,et as i,ke as u};
